2005-10-26  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/epiphany.glade:
	* embed/downloader-view.c: (status_icon_popup_menu_cb):

	Change downloader and pdm dialogue titles, bug #319843.

2005-10-25  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-link-action.c
	* src/ephy-link-action.h:
	(proxy_button_press_event_cb),
	(proxy_button_release_event_cb), (proxy_drag_begin_cb),
	(ephy_link_action_connect_proxy),
	(ephy_link_action_disconnect_proxy),
	(ephy_link_action_class_init), (ephy_link_action_init):

	Well, that didn't last long. Turns out this was a solved
	problem in EphyBookmarkAction but no one pointed it out
	until just now. Using gtk_button_pressed/released fixes
	everything.

2005-10-25  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-link-action.c
	* src/ephy-link-action.h:
	(proxy_button_release_event_cb), (proxy_drag_begin_cb),
	(ephy_link_action_connect_proxy),
	(ephy_link_action_disconnect_proxy),
	(ephy_link_action_class_init), (ephy_link_action_init):

	Fix bug #319529. Don't activate the action on a middle mouse
	button release event if the release is linked to a DnD.

	This requires adding state to the action to allow us to link
	the drag-begin event to the button-release event.

2005-10-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_add),
	(build_editing_table), (ephy_new_bookmark_construct),
	(ephy_new_bookmark_set_property), (ephy_new_bookmark_get_property):

	Remove info text referring to the not-committed markers in H18.

2005-10-23  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Post-release version bump.

2005-10-23  Christian Persch  <chpe@cvs.gnome.org>

	=== Release 1.9.1 ===

	* NEWS:
	* configure.ac:
	* doc/reference/tmpl/EphySingle.sgml:
	* doc/reference/tmpl/ephy-embed-single.sgml:
	* doc/reference/tmpl/ephy-embed.sgml:
	* doc/reference/tmpl/epiphany-unused.sgml:
	* src/Makefile.am:

2005-10-22  Jean-François Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/mozilla-embed-single.cpp: (impl_list_passwords):
	* src/pdm-dialog.c:
	* data/glade/epiphany.glade:

	Add a way to view stored password. Fix bug 316821.

2005-10-22  Christian Persch  <chpe@cvs.gnome.org>

	* data/mime-types-permissions.xml:

	Add another mime type.

	* src/ephy-notebook.c:

	Remove the accidental commit from the H18 patch.

2005-10-21  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-extensions-manager.c:
	(ephy_extensions_manager_parse_keyfile),
	(ephy_extensions_manager_load_ini_file),
	(ephy_extensions_manager_load_xml_file), (path_to_identifier),
	(ephy_extensions_manager_load_file), (reload_sync_cb), (reload_cb),
	(schedule_load_from_monitor), (dir_changed_cb), (cancel_timeout),
	(ephy_extensions_manager_init), (ephy_extensions_manager_dispose),
	(ephy_extensions_manager_class_init):

	Load the key files and xml files directly from disc, instead of
	getting their contents and parsing from memory.
	When a file changes, schedule a reload instead of processing it
	immediately, to cope with multiple changes (CREATED + CHANGED) in
	a row.

2005-10-21  Philip Langdale  <philipl@mail.utexas.edu>

	* data/ui/epiphany-ui.xml:
	Point main menu UI at toolbar actions.
	* src/ephy-lockdown.c:
	(update_window): Don't try and change the state of
	the now non-existent menu specific actions.
	* src/ephy-toolbar.c
	(ephy_toolbar_set_window): Sync up toolbar actions
	so that they will appear in menus to be identical to
	the old menu specific actions. This just means adding
	accelerators and shortcuts and adjusting tooltip text.	
	* src/ephy-window.c
	(sync_tab_navigation): Remove the menu specific actions
	and consequently, don't try to manipulate them.
	* src/window-commands.c
	* src/window-commands.h:
	(window_cmd_go_up): Remove unused callback.

2005-10-21  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-loader.c: (ephy_loader_get_object):
	* lib/ephy-loader.h:
	* lib/ephy-module.c: (ephy_module_load), (ephy_module_new):
	* lib/ephy-module.h:
	* lib/ephy-shlib-loader.c: (impl_get_object),
	(ephy_shlib_loader_class_init):
	* src/ephy-extensions-manager.c: (free_extension_info),
	(ephy_extensions_manager_load_ini_string), (get_loader_for_type),
	(load_extension):
	* src/ephy-python-loader.c: (impl_get_object):

	Expose the extension description keyfile directly to the loaders.

2005-10-20  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-stock-icons.c: (ephy_stock_icons_init):

	Minor code cleanup.

2005-10-20  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-stock-icons.c: (ephy_stock_icons_init):
	* lib/ephy-stock-icons.h:
	* src/ephy-fullscreen-popup.c: (ephy_fullscreen_popup_constructor):
	* src/ephy-toolbar.c: (ephy_toolbar_constructor):
	* src/ephy-window.c:

	Remove fullscreen and leave-fullscreen stock icons; they're available
	in gtk+ since 2.8.

2005-10-18  Christian Persch  <chpe@cvs.gnome.org>

	* src/bookmarks/ephy-bookmarks-import.c: (xbel_parse_folder),
	(ephy_bookmarks_import_mozilla):

	Adapt folder import to new menu code, patch by Peter Harvey.
	
2005-10-17  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar.c: (ephy_toolbar_set_security_state),
	(ephy_toolbar_init):
	* src/ephy-toolbar.h:

	Remove lock visibility setter.

	* src/window-commands.c: (window_cmd_help_about):

	Add Peter Harvey to about credits.

2005-10-17  Crispin Flowerday  <gnome@flowerday.cx>

	* src/epiphany.override
	* src/epiphany.defs
	* src/Makefile.am:

	Update python API to the new bookmark headers.

2005-10-17  Crispin Flowerday  <gnome@flowerday.cx>

	* src/Makefile.am:

	Fix the check-python-binding makefile target to work properly

2005-10-16  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:
	A data/ephy-xml2ini.xsl:
	* src/ephy-extensions-manager.c:

	Remove .xml parsing code and translate the .xml files to
	the new format with XSLT instead.

2005-10-16  Peter Harvey <pah06@uow.edu.au>

	H18 patch, by Peter Harvey <pah06@uow.edu.au>.
	
	* data/ui/epiphany-bookmark-editor-ui.xml:
	* data/ui/epiphany-ui.xml:
	* lib/egg/egg-editable-toolbar.c: (get_dock_position),
	(get_toolbar_position), (get_toolbar_nth), (find_action),
	(drag_data_delete_cb), (drag_begin_cb), (drag_end_cb),
	(drag_data_get_cb), (move_item_cb), (set_dock_visible),
	(remove_item_cb), (remove_toolbar_cb), (toggle_visibility_cb),
	(egg_editable_toolbar_add_visibility_items),
	(egg_editable_toolbar_add_popup_items), (popup_context_menu_cb),
	(button_press_event_cb), (configure_item_sensitivity),
	(configure_item_cursor), (connect_widget_signals),
	(action_sensitive_cb), (create_item_from_action),
	(create_item_from_position), (toolbar_drag_data_received_cb),
	(toolbar_drag_drop_cb), (toolbar_drag_motion_cb),
	(toolbar_drag_leave_cb), (configure_drag_dest), (create_dock),
	(toolbar_changed_cb), (unparent_fixed), (update_fixed),
	(toolbar_added_cb), (toolbar_removed_cb), (item_added_cb),
	(item_removed_cb), (egg_editable_toolbar_construct),
	(egg_editable_toolbar_set_ui_manager),
	(egg_editable_toolbar_set_property),
	(egg_editable_toolbar_get_property), (egg_editable_toolbar_init),
	(egg_editable_toolbar_finalize),
	(egg_editable_toolbar_get_edit_mode),
	(egg_editable_toolbar_set_edit_mode),
	(egg_editable_toolbar_set_fixed):
	* lib/egg/egg-editable-toolbar.h:
	* lib/egg/egg-toolbar-editor.c: (compare_items),
	(item_added_or_removed_cb), (toolbar_removed_cb),
	(egg_toolbar_editor_set_model), (egg_toolbar_editor_finalize),
	(drag_begin_cb), (drag_end_cb), (drag_data_get_cb),
	(editor_create_item), (editor_create_item_from_name),
	(append_table), (update_editor_sheet), (egg_toolbar_editor_init):
	* lib/egg/egg-toolbar-editor.h:
	* lib/egg/egg-toolbars-model.c: (egg_toolbars_model_to_xml),
	(egg_toolbars_model_save), (toolbar_node_new), (item_node_new),
	(item_node_free), (toolbar_node_free),
	(egg_toolbars_model_get_flags), (egg_toolbars_model_set_flags),
	(egg_toolbars_model_get_data), (egg_toolbars_model_get_name),
	(impl_add_item), (egg_toolbars_model_add_item),
	(egg_toolbars_model_add_toolbar), (parse_data_list),
	(parse_item_list), (parse_toolbars), (egg_toolbars_model_load),
	(egg_toolbars_model_class_init), (egg_toolbars_model_init),
	(egg_toolbars_model_finalize), (egg_toolbars_model_remove_toolbar),
	(egg_toolbars_model_remove_item), (egg_toolbars_model_move_item),
	(egg_toolbars_model_n_items), (egg_toolbars_model_item_nth),
	(egg_toolbars_model_n_toolbars), (egg_toolbars_model_toolbar_nth),
	(egg_toolbars_model_get_types), (egg_toolbars_model_set_types),
	(fill_avail_array), (egg_toolbars_model_get_avail),
	(egg_toolbars_model_get_n_avail), (egg_toolbars_model_set_n_avail):
	* lib/egg/egg-toolbars-model.h:
	* src/bookmarks/Makefile.am:
	* src/bookmarks/ephy-bookmark-action-group.c: (smart_added_cb),
	(smart_removed_cb), (node_changed_cb), (node_added_cb),
	(node_removed_cb), (ephy_bookmark_group_new):
	* src/bookmarks/ephy-bookmark-action-group.h:
	* src/bookmarks/ephy-bookmark-action.c: (create_tool_item),
	(ephy_bookmark_action_sync_icon), (show_context_menu),
	(popup_menu_cb), (button_press_cb), (button_release_cb),
	(connect_proxy), (ephy_bookmark_action_updated),
	(ephy_bookmark_action_get_bookmark),
	(ephy_bookmark_action_set_bookmark),
	(ephy_bookmark_action_set_property),
	(ephy_bookmark_action_get_property),
	(ephy_bookmark_action_finalize), (ephy_bookmark_action_class_init),
	(ephy_bookmark_action_init), (ephy_bookmark_action_name),
	(ephy_bookmark_action_new):
	* src/bookmarks/ephy-bookmark-action.h:
	* src/bookmarks/ephy-bookmark-factory-action.c:
	(ephy_bookmark_factory_action_get_type), (activate_item_cb),
	(build_menu_for_topic), (build_menu), (remove_placeholder_cb),
	(activate_placeholder_cb), (clicked_placeholder_cb),
	(realize_placeholder_cb), (create_tool_item), (connect_proxy),
	(ephy_bookmark_factory_action_class_init),
	(ephy_bookmark_factory_action_new):
	* src/bookmarks/ephy-bookmark-factory-action.h:
	* src/bookmarks/ephy-bookmark-properties.c:
	(ephy_bookmark_properties_set_property),
	(ephy_bookmark_properties_get_property),
	(bookmark_properties_response_cb), (update_entry),
	(location_entry_changed_cb), (build_ui):
	* src/bookmarks/ephy-bookmarks-editor.c: (add_entry_monitor),
	(cmd_add_topic), (delete_topic_dialog_construct),
	(cmd_bookmarks_import), (ephy_bookmarks_editor_finalize),
	(ephy_bookmarks_editor_node_activated_cb),
	(ephy_bookmarks_editor_update_menu), (view_focus_cb),
	(add_focus_monitor), (remove_focus_monitor), (bookmarks_filter),
	(search_entry_search_cb), (ephy_bookmarks_editor_construct),
	(ephy_bookmarks_editor_set_parent),
	(ephy_bookmarks_editor_set_property),
	(ephy_bookmarks_editor_get_property), (ephy_bookmarks_editor_init):
	* src/bookmarks/ephy-bookmarks-menu.c: (append_bookmarks),
	(append_menu), (ephy_bookmarks_menu_build):
	* src/bookmarks/ephy-bookmarks-menu.h:
	* src/bookmarks/ephy-bookmarks-ui.c: (find_action),
	(activate_bookmarks_menu), (activate_favorites_menu),
	(erase_bookmarks_menu), (erase_favorites_menu), (tree_changed_cb),
	(node_added_cb), (node_changed_cb), (node_removed_cb),
	(ephy_bookmarks_ui_attach_window),
	(ephy_bookmarks_ui_detach_window), (toolbar_node_removed_cb),
	(topic_has_data), (topic_get_data), (topic_get_name),
	(bookmark_has_data), (bookmark_get_data), (bookmark_get_name),
	(bookmark_new_name), (ephy_bookmarks_ui_attach_toolbar_model),
	(ephy_bookmarks_ui_detach_toolbar_model):
	* src/bookmarks/ephy-bookmarks-ui.h:
	* src/bookmarks/ephy-bookmarks.c: (ephy_bookmarks_get_type),
	(ephy_bookmarks_init_defaults), (ephy_bookmarks_class_init),
	(ephy_bookmarks_save_delayed), (add_to_favorites),
	(update_bookmark_keywords), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_add),
	(ephy_bookmarks_set_address), (ephy_bookmarks_set_icon),
	(ephy_bookmarks_add_keyword),
	(ephy_bookmarks_show_bookmark_properties),
	(ephy_bookmarks_get_from_id), (ephy_bookmarks_compare_topics),
	(ephy_bookmarks_compare_topic_pointers),
	(ephy_bookmarks_compare_bookmarks),
	(ephy_bookmarks_compare_bookmark_pointers):
	* src/bookmarks/ephy-bookmarks.h:
	* src/bookmarks/ephy-bookmarksbar-model.c:
	* src/bookmarks/ephy-bookmarksbar-model.h:
	* src/bookmarks/ephy-bookmarksbar.c:
	* src/bookmarks/ephy-bookmarksbar.h:
	* src/bookmarks/ephy-favorites-menu.c:
	* src/bookmarks/ephy-favorites-menu.h:
	* src/bookmarks/ephy-new-bookmark.c: (ephy_new_bookmark_add),
	(build_editing_table), (ephy_new_bookmark_construct),
	(ephy_new_bookmark_set_property), (ephy_new_bookmark_get_property):
	* src/bookmarks/ephy-nodes-cover.c: (ephy_nodes_count_covered),
	(ephy_nodes_remove_covered), (ephy_nodes_remove_not_covered),
	(ephy_nodes_get_covered), (ephy_nodes_covered),
	(ephy_nodes_get_covering):
	* src/bookmarks/ephy-nodes-cover.h:
	* src/bookmarks/ephy-open-tabs-action.c: (activate_cb),
	(node_added_cb), (node_removed_cb), (ephy_open_tabs_group_new),
	(ephy_open_tabs_action_name):
	* src/bookmarks/ephy-open-tabs-action.h:
	* src/bookmarks/ephy-related-action.c: (node_changed),
	(node_destroyed), (open_link), (iface_init),
	(ephy_related_action_get_type), (ephy_related_action_new):
	* src/bookmarks/ephy-related-action.h:
	* src/bookmarks/ephy-topic-action-group.c: (node_changed_cb),
	(node_added_cb), (node_removed_cb), (ephy_topic_group_new):
	* src/bookmarks/ephy-topic-action-group.h:
	* src/bookmarks/ephy-topic-action.c: (ephy_topic_action_get_type),
	(create_tool_item), (ephy_topic_action_sync_label), (get_popup),
	(erase_popup), (child_added_cb), (child_changed_cb),
	(child_removed_cb), (menu_destroy_cb), (menu_init_cb),
	(button_deactivate_cb), (button_toggled_cb), (button_release_cb),
	(button_press_cb), (connect_proxy), (ephy_topic_action_updated),
	(ephy_topic_action_get_topic), (ephy_topic_action_set_topic),
	(ephy_topic_action_set_property), (ephy_topic_action_get_property),
	(ephy_topic_action_class_init), (ephy_topic_action_init),
	(ephy_topic_action_name), (ephy_topic_action_new):
	* src/bookmarks/ephy-topic-action.h:
	* src/bookmarks/ephy-topic-factory-action.c:
	(ephy_topic_factory_action_get_type), (sort_topics),
	(activate_item_cb), (build_menu), (remove_placeholder_cb),
	(activate_placeholder_cb), (clicked_placeholder_cb),
	(realize_placeholder_cb), (create_tool_item), (connect_proxy),
	(ephy_topic_factory_action_class_init),
	(ephy_topic_factory_action_new):
	* src/bookmarks/ephy-topic-factory-action.h:
	* src/ephy-link-action.c: (ephy_link_action_group_get_type),
	(ephy_link_action_group_new):
	* src/ephy-link-action.h:
	* src/ephy-lockdown.c: (find_name), (find_action_group),
	(update_window):
	* src/ephy-notebook.c: (move_tab_to_another_notebook),
	(ephy_notebook_switch_page_cb), (ephy_notebook_init),
	(tab_label_style_set_cb), (build_tab_label),
	(ephy_notebook_add_tab):
	* src/ephy-shell.c: (ephy_shell_get_toolbars_model):
	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_constructor),
	(ephy_toolbar_editor_finalize), (ephy_toolbar_editor_set_property),
	(ephy_toolbar_editor_class_init):
	* src/ephy-toolbar.c: (ephy_toolbar_realize),
	(ephy_toolbar_unrealize), (ephy_toolbar_finalize):
	* src/ephy-toolbars-model.c: (update_flags),
	(ephy_toolbars_model_load):
	* src/ephy-window.c: (ephy_window_get_type),
	(get_chromes_visibility), (sync_chromes_visibility),
	(ephy_window_key_press_event), (tool_item_enter_cb),
	(tool_item_leave_cb), (tool_item_drag_begin_cb),
	(connect_tool_item), (disconnect_tool_item), (disconnect_proxy_cb),
	(connect_proxy_cb), (update_chromes_actions), (show_embed_popup),
	(tab_added_cb), (tab_removed_cb), (ephy_window_set_chrome),
	(ephy_window_dispose), (ephy_window_class_init),
	(ephy_window_init), (ephy_window_finalize),
	(ephy_window_remove_tab), (ephy_window_set_zoom),
	(sync_prefs_with_chrome), (ephy_window_view_toolbar_cb):
	* src/ephy-window.h:

	Revision history:

	h18, released 2005/09/23, for Epiphany 1.8.0

	* Just an update for 1.8.0.
	
	h17, released 2005/08/30, for Epiphany 1.7.6 or CVS HEAD
	
	* Mostly just an update for 1.7.6.
	* Topic menus on the toolbar now open without releasing the mouse button.
	* Topic menus on the toolbar are now also hierarchical (see if you like it.
	
	h16, released 2005/08/25, for Epiphany 1.7.5 or CVS HEAD
	
	* Just an update for 1.7.5. Sorry, I've been busy. :)
	
	h15, released 2005/07/19, for Epiphany 1.7.2 or CVS HEAD
	
	* Code cleanup
	
	h14, released 2005/07/9, for Epiphany 1.7.1 or CVS HEAD
	
	* Improved helpful tip when adding a bookmark
	* Improved toolbar context menu
	* Toolbar visibility state is now saved
	* Separated bookmark/topic action groups into separate files
	* Topics in the overflow menu now behave as submenus
	* Now importing old bookmarksbar, and saving to new filename
	* Incremented toolbar file format version number to 1.1
	* Fixed the 'sticky' statusbar help
	* Fixed a crashing bug (dnd then open a topic on the toolbar)
	
	h13, released 2005/05/12, for CVS HEAD
	
	* Added middle-mouse drag-drop for the editable toolbar.
	* Fixed some warnings at compile and run time.
	* Added brief help for the user when adding a new bookmark.
	* Cleaned up the editable toolbar code a little.
	
	h12, released 2005/05/10, for CVS HEAD
	
	* Added new editing facilities for the editable toolbar.
	
	h11, released 2005/04/29, for CVS HEAD
	
	* Fixed bug in statusbar information for toolbar items.
	* Added an all-new 'Related' toolbar widget which changes to show 
	the most related topic whenever a bookmark is activated.
	
	h10, released 2005/04/15, for Epiphany 1.6.2 or CVS HEAD
	
	* Added statusbar information for all toolbar items.
	* Empty toolbars are now only deleted when exiting edit mode.
	* Fixed regression of middle-click for bookmarks on toolbar.
	* Fixed regression of ellipsized bookmark names in menus.
	
	h9, released 2005/04/12, for Epiphany 1.6.1
	
	* Updated patch for 1.6.1. Long time no see.
	* Now using EphyLink objects everywhere.
	
	h7, released 2004/10/21, for Epiphany 1.4.4
	
	* Updated patch for 1.4.4.
	* Fixed bugs causing crashes when bookmarks were added (thanks Reinout).
	* Added "Open in Tabs" back into bookmark menus where suitable.
	
	h6, released 2004/09/20, for Epiphany 1.4.0
	
	* Updated patch for 1.4.0.
	* Removed the bookmarks bar.
	* Generate shared XML string for bookmarks menu.
	* Slightly improve performance of node-cover code.
	* Delay adding bookmarks menu until it is first used.
	* Fixed bug(?) in ephy-node.
	
	h4, released 2004/08/08, for Epiphany 1.3.4
	
	* Updated patch due to changes to topics selector.
	* Removed 'Most Visited' from the min-cover calculations.
	* Fixed Epiphany 1.3.4 bug where topics in selector aren't sorted.
	* Updated patch due to other changes in Epiphany 1.3.4 source.
	
	h3, released 2004/07/12, for Epiphany 1.3.2
	
	* Simple update for Epiphany 1.3.2
	
	h3, released 2004/05/24, for Epiphany 1.2.5
	
	* Moved duplicated functions into a seperate file.
	* Improved topic selector.
	* Bookmarks toolbar topic menus now have subdivisions.
	* Topic names in menu now change if modified in the bookmarks editor.
	
	h2, released 2004/05/23, for Epiphany 1.2.5
	
	* Significantly cleaned up the code.
	* 'Most Visited' no longer appears as a submenu.
	* Subtopics are selected much more intelligently, giving a better
 	  approximation to a true minimum cover.
	* Topic selector now shows suggestions with arrows, not bold font.
	
	h1, released 2004/05/19, for Epiphany 1.2.5
	
	* Initial release.

2005-10-16  Philip Langdale  <philipl@mail.utexas.edu>

	* configure.ac: Add another necessary mozilla include subdir to
	the includes for tests. This is necessary when compiling against
	an uninstalled mozilla build (header organisation is only done
	at make install time) or, apparently, against gentoo's mozilla
	packages.

2005-10-16  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-link-action.c:
	(proxy_button_release_event_cb), (get_event_widget),
	(ephy_link_action_connect_proxy), (ephy_link_action_disconnect_proxy),
	(ephy_link_action_class_init), (ephy_link_action_get_type):
	Exten the EphyLinkAction to attach a mouse-release-event handler
	which turns around and calls gtk_action_activate in response to a
	middle-click even on the proxy. This allows us to fully encapsulate
	the extra work needed to catch middle clicks.
	The GoHome action will automatically start working correctly now
	that it is getting activated in this case.

	* src/ephy-navigation-action.c:
	(activate_by_history_index), (activate_back_or_forward_menu_item_cb),
	(ephy_navigation_action_activate), (ephy_navigation_action_class_init):
	Fully enscapsulate 'activate' handling inside the action. This is more
	consistent because the menus are already handled internally. Also
	add support for middle-click on back/forward/up.
	
	* src/ephy-toolbar.c:
	(ephy_toolbar_set_window): Don't attach 'activate' signal handlers
	to the navigate actions because activation is now handled internally
	to the action.

	I intend to make a followup change that removes the separate actions
	for GoUp/Back/Forward in the menu and replace them with the main
	actions already used in the toolbar. This means the menu items will
	get middle-click support for free.

	* lib/ephy-gui.c: (ephy_gui_is_middle_click):
	Only consider an unmodified middle-click to be a middle-click.

2005-10-16  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_get):
	* embed/mozilla/EphyBrowser.cpp:

	Enable favicons for https: sites on gecko 1.8.

2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/prefs-dialog.glade:
	* src/prefs-dialog.c: (prefs_dialog_finalize),
	(download_path_changed_cb), (create_download_path_button),
	(prefs_dialog_init), (prefs_homepage_blank_button_clicked_cb):

	Use a GtkFileChooserButton for the download path selector.
	Fixes bug #135738.

2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-favicon-cache.c: (ephy_favicon_cache_download),
	(ephy_favicon_cache_get):
	* embed/mozilla/EphyBrowser.cpp:

	Allow favicons for https: sites on gecko 1.9.

2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyBadCertRejector.h:

	Remove debug output.
	
2005-10-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-persist.h:

	Add EPHY_EMBED_PERSIST_NO_CERTDIALOGS flag.

        * embed/mozilla/Makefile.am:
	A embed/mozilla/EphyBadCertRejector.cpp:
	A embed/mozilla/EphyBadCertRejector.h:

	A class implementing nsIBadCertListener which always rejects.

	* embed/mozilla/EphyHeaderSniffer.cpp:
	* embed/mozilla/EphyHeaderSniffer.h:
	* embed/mozilla/MozDownload.cpp:
	* embed/mozilla/MozDownload.h:

	For gecko 1.8, implement nsIInterfaceRequestor for EphyHeaderSniffer
	and MozDownload, and make GetInterface hand out a EphyBadCertRejector
	if the EPHY_EMBED_PERSIST_NO_CERTDIALOGS flag is set.

2005-10-14  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/mozilla-embed.cpp:

	Work around mozilla bug
	https://bugzilla.mozilla.org/show_bug.cgi?id=312241 .

2005-10-12  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-tab.c: (open_link_in_new_tab):
	Copy the back history when a link is opened in
	a new tab from a middle-click or a ctrl-click.

2005-10-12  Philip Langdale  <philipl@mail.utexas.edu>

	* src/ephy-navigation-action.c:
	(activate_back_or_forward_menu_item_cb). Forgot to
	remove the unused url variable.

2005-10-12  Philip Langdale  <philipl@mail.utexas.edu>

	* embed/ephy-embed.c
	* embed/ephy-embed.h: (ephy_embed_shistory_copy).
	Add a method to copy the back/forward history from
	one embed to another.

	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	(EphyBrowser::CopySHistory) Implementation of 
	history copying.

	* embed/mozilla/mozilla-embed.cpp:
	Implement ephy_embed_shistory_copy by calling into
	EphyBrowser.

	* src/ephy-navigation-action.c:
	(activate_back_or_forward_menu_item_cb). If a
	history menu item is middle-clicked on, open a new
	tab, copy the history over and then go to the
	relevant page in the history.

	* src/ephy-toolbar.c: (ephy_toolbar_set_window) Attach
	handler for "open-link" to back/forward actions.

2005-10-12  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-single.c: (ephy_embed_single_iface_init),
	(ephy_embed_single_set_network_status),
	(ephy_embed_single_get_network_status):
	* embed/ephy-embed-single.h:
	* embed/mozilla/EphySingle.cpp:
	* embed/mozilla/EphySingle.h:
	* embed/mozilla/mozilla-embed-single.cpp:
	* src/ephy-window.c: (sync_tab_icon), (sync_network_status),
	(ephy_window_dispose), (ephy_window_init):
	* src/epiphany.defs:
	* src/window-commands.c: (window_cmd_file_work_offline):

	Remove the "network-status" signal from the embed single, and
	make it a property instead. Keep track of the network status in
	EphySingle, and emit property notification when it changes.

2005-10-12  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp:
	* embed/mozilla/EphyAboutModule.h:
	A embed/mozilla/EphyRedirectChannel.cpp:
	A embed/mozilla/EphyRedirectChannel.h:
	* embed/mozilla/Makefile.am:

	Implement about:recover. Build the about module on all geckos, and
	only #ifdef the about:neterror implementation for gecko 1.8.

	* src/ephy-session.c: (tab_added_cb), (impl_attach_window),
	(ephy_session_autoresume), (write_tab), (ephy_session_save),
	(parse_embed), (ephy_session_load):

	Record the page load status and page title in the session file, and
	use about:recover when the page was still loading when the browser
	crashed.

2005-10-10  Christian Persch  <chpe@cvs.gnome.org>

        * lib/ephy-string.c: (ephy_string_shorten):

	Fix constness and don't strdup when returning early.
		
2005-10-10  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-string.c: (ephy_string_blank_chr),
	(ephy_string_shorten):
	* lib/ephy-string.h:

	Bring back ephy_string_shorten.

	* src/ephy-tab.c: (ephy_tab_file_monitor_cb), (ephy_tab_set_title):

	Shorten overlong tab titles, hard. Increase reload delay slightly.
	Strip whitespace from tab title before determining if it's empty.

2005-10-09  Christian Persch  <chpe@cvs.gnome.org>

        * lib/ephy-debug.c:

	Search the needle in the haystack, not the other way 'round.

2005-10-09  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.c:

	Fix logging.

2005-10-09  Jean-François Rameau  <jframeau@cvs.gnome.org>

	* data/ui/epiphany-ui.xml:
	* src/ephy-window.c: (show_embed_popup), 
	(update_image_actions_visibility):

	Eliminate the *Popup/*ImagePopup popup variants.
	Add image context to all popups it can show up.
	Display image context dynamically.
	
2005-10-09  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-shell.c:

	Remove DBUS define, it's always compiled now.

2005-10-08  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.c:

	Fix profiling in builddir != srcdir builds.

2005-10-08  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_start),
	(ephy_spinner_dispose), (ephy_spinner_finalize),
	(ephy_spinner_class_init):

	Ensure the images are loaded before starting to spin.
	Should fix crashes on start/new tab.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar.c: (ephy_toolbar_update_spinner):

	Remove unused variable.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:

	Sync with gnome-2-12.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar.c: (ephy_toolbar_update_spinner),
	(ephy_toolbar_set_show_leave_fullscreen),
	(ephy_toolbar_set_security_state),
	(ephy_toolbar_set_lock_visibility), (ephy_toolbar_set_spinning):

	Use flags to save memory for the priv struct.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-location-entry.c:
	(ephy_location_entry_style_set), (ephy_location_entry_class_init),
	(ephy_location_entry_set_favicon),
	(ephy_location_entry_set_secure):
	* lib/widgets/ephy-location-entry.h:

	Add style properties for 'secure-[bg|fg]-color', and apply them when
	the entry is in 'secure' mode. Reset the IM context before emitting
	the 'activate' signal.

	* src/ephy-location-action.c: (sync_secure), (connect_proxy),
	(ephy_location_action_set_property),
	(ephy_location_action_get_property),
	(ephy_location_action_class_init):
	* src/ephy-toolbar.c: (ephy_toolbar_set_security_state),
	(ephy_toolbar_init):
	* src/ephy-toolbar.h:
	* src/ephy-window.c: (sync_chromes_visibility),
	(sync_tab_security):

	Set the location entry's 'secure' property on secure sites,
	and also always show the lock for secure sites.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/Makefile.am:
	* embed/mozilla/mozilla-embed-single.cpp:

	Add out private plugin directory to MOZ_PLUGIN_PATH too.

2005-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* Makefile.am:
	* configure.ac:
	* plugins/.cvsignore:
	* plugins/Makefile.am:
	* plugins/desktop-file/.cvsignore:
	* plugins/desktop-file/Makefile.am:
	* plugins/desktop-file/plugin.cpp:
	* po/POTFILES.in:

	Add "desktop-file" plugin, adapted from the
	"mozilla-desktop-file-plugin" written by Jorn Baayen <jbaayen@gnome.org>.
	For now only handle .desktop files from file:/// URIs, for security 
	reasons.

2005-10-03  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-state.c: (paned_sync_position_cb),
	(ephy_state_add_paned):

	Use "position" property notification instead of
	size-allocate to monitor the paned's position.

	* src/bookmarks/ephy-bookmarks-editor.c:
	(ephy_bookmarks_editor_construct):

	Use resize=FALSE with gtk_paned_pack1. Fixes growing size of
	the left pane of the bookmarks editor by repeated opening.

2005-10-03  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c: (setup_ui_manager), (ephy_window_dispose),
	(ephy_window_finalize):

	Fix memory leak.

2005-10-03  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed-shell.c: (ephy_embed_shell_dispose):
	* src/ephy-shell.c: (ephy_shell_dispose):

	Make sure we don't unref NULL objects.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* src/bookmarks/ephy-bookmarks.c: (save_filter),
	(ephy_bookmarks_save), (update_bookmark_keywords),
	(bookmark_is_categorized), (ephy_bookmarks_init),
	(ephy_bookmarks_finalize), (ephy_bookmarks_get_topic_uri),
	(ephy_bookmarks_find_keyword):
	* src/epiphany.defs:

	Add configure switch to disable zeroconf bookmarks, since
	they're almost useless since just about nobody ships gnome-vfs
	with howl support enabled, and have also been reported to
	cause long delays on startup.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-tab.c: (ephy_tab_finalize):
	* src/ephy-window.c: (ephy_window_finalize):

	Schedule a GC in finalize of EphyTab and EphyWindow, to 
	work around bug #317242.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/ephy-embed-shell.c: (ephy_embed_shell_dispose),
	(ephy_embed_shell_finalize), (ephy_embed_shell_class_init):
	* embed/ephy-embed.c: (ephy_embed_base_init),
	(ephy_embed_show_page_certificate), (ephy_embed_close):
	* embed/ephy-embed.h:
	* embed/mozilla/EphyBrowser.cpp:
	* embed/mozilla/EphyBrowser.h:
	* embed/mozilla/mozilla-embed.cpp:
	* src/ephy-notebook.c: (ephy_notebook_class_init),
	(close_button_clicked_cb):
	* src/ephy-notebook.h:
	* src/ephy-python.c: (ephy_python_init), (ephy_python_shutdown),
	(ephy_python_schedule_gc):
	* src/ephy-shell.c: (ephy_shell_class_init), (gnome_session_init),
	(ephy_shell_dispose), (ephy_shell_finalize):
	* src/ephy-tab.c: (ephy_tab_init):
	* src/ephy-window.c: (construct_confirm_close_dialog),
	(confirm_close_with_modified_forms), (embed_modal_alert_cb),
	(idle_tab_remove_cb), (schedule_tab_close),
	(embed_close_request_cb), (embed_destroy_browser_cb),
	(tab_added_cb), (tab_removed_cb), (tab_close_request_cb),
	(setup_notebook), (remove_true), (ephy_window_dispose),
	(cancel_handler), (ephy_window_init), (ephy_window_finalize):
	* src/window-commands.c: (event_with_shift),
	(window_cmd_view_reload), (window_cmd_file_close_window):

	Use nsIDOMWindowInternal::Close to close tabs. Delay tabs destruction
	to an idle handler, to avoid crashes when tabs are closed from signal
	handlers (blur, mousedown, keydown etc).
	Fixes bug #172878, bug #172879, bug #172882, bug #303254, bug #313425.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* embed/print-dialog.c: (ephy_print_do_print_idle_cb):

	Remove unused variable.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widget/ephy-spinner.c:

	Remove unused code.

2005-10-02  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.h:
	
	Don't include config.h here.

	* lib/widgets/ephy-spinner.c: (ephy_spinner_cache_data_unload),
	(ephy_spinner_cache_data_load), (ephy_spinner_cache_data_new),
	(ephy_spinner_cache_data_free), (ephy_spinner_cache_get_images),
	(ephy_spinner_cache_init), (ephy_spinner_cache_finalize),
	(ephy_spinner_load_images), (ephy_spinner_init),
	(bump_spinner_frame_cb), (ephy_spinner_start),
	(ephy_spinner_set_timeout), (ephy_spinner_finalize),
	(ephy_spinner_screen_changed), (ephy_spinner_class_init):
	
	Make spinner multihead safe.

	* lib/widgets/testspinner.c:
	
	Add a tiny spinner test program.

2005-10-01  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-spinner.c: (ephy_spinner_init),
	(ephy_spinner_start), (ephy_spinner_stop), (ephy_spinner_map),
	(ephy_spinner_unmap), (ephy_spinner_class_init):

	Don't spin unmapped spinners. Slightly decrease the frequency.
	Might help with bug #315232.

2005-10-01  Christian Persch  <chpe@cvs.gnome.org>

	* lib/widgets/ephy-location-entry.c: (entry_key_press_cb):

	Reset the IM context before activating the entry.

	* lib/widgets/ephy-node-view.c: (ephy_node_view_key_press_cb):
	* src/ephy-find-toolbar.c: (tab_search_key_press_cb):

	Add GDK_ISO_Enter to recognised keyvals.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp:

	Return error on failure.

2005-09-28  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_file_bookmark_page):

	Don't free const strings.

2005-09-28  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-notebook.c: (sync_label):
	* src/ephy-tab.c: (ephy_tab_get_title_composite),
	(ephy_tab_get_title):
	* src/ephy-tab.h:
	* src/ephy-tabs-menu.c: (sync_tab_title):
	* src/ephy-window.c: (sync_tab_title):
	* src/window-commands.c: (window_cmd_file_send_to),
	(window_cmd_file_bookmark_page):

	Add a function to get the tab's real title, and use it
	where appropriate. Fixes bug #317418.

2005-09-28  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/FilePicker.cpp:

	Hide the filters combo if there's only the "All" filter.

2005-09-27  Christian Persch  <chpe@cvs.gnome.org>

	* data/default-prefs-common.js:

	Back out the fix for bug #158486 by re-enabling keyword:
	searches. Fixes bug #314974.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-notebook.c: (tab_label_style_set_cb),
	(build_tab_label):

	Use the tab label's outer hbox for the size calculation instead
	of the label itself. Fixes size oscillations with the Tab States
	extension.

2005-09-26  Jean-François Rameau  <jframeau@cvs.gnome.org>

	* src/ephy-lockdown.c: (update_window):
	* src/ephy-window.c: (update_popups_tooltips), (show_embed_popup):
	* src/popup-commands.c:
	* src/popup-commands.h:
	* embed/mozilla/EventContext.cpp: (GetEventContext):
	* data/ui/epiphany-ui.xml:

	Unify background image and image code (contex menu, conext event). 
	Fix bug 154887.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/Makefile.am:
	* embed/mozilla/GtkNSSSecurityWarningDialogs.cpp: (DoDialog):

	Back out previous change, it doesn't work right when there
	are *two* dialogues shown: the 1st one can only be dismissed
	after the 2nd one has been dismissed.

2005-09-26  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/Makefile.am:
	* embed/mozilla/AutoEventQueue.cpp:
	* embed/mozilla/AutoEventQueue.h:
	* embed/mozilla/GtkNSSSecurityWarningDialogs.cpp: (DoDialog):
	
	Push a new event queue while showing the dialogue
	with gtk_dialog_run. This fixes the problem (caused by the
	braindead API of showing this dialogue synchronously) that
	networking is blocked in all other windows while the dialogue
	is shown.
	
2005-09-25  Jean-François Rameau  <jframeau@cvs.gnome.org>

	* data/epiphany-lockdown.schemas.in:

	Add disable_quit to lockdown gconf schema. Fix bug 316499.

2005-09-24  Crispin Flowerday  <gnome@flowerday.cx>

	* data/epiphany.m4:

	Rename the autoconf macro to EPIPHANY_EXTENSION_INIT() and make it
	check the ephy version, get the extension directory and find out
	whether python is enabled.

2005-09-24  Jean-François Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/EphyAboutModule.cpp: (GetErrorMessage):

	Handle contentEncodingError error.

2005-09-24  Crispin Flowerday  <gnome@flowerday.cx>

	* lib/Makefile.am:
	* lib/ephy-module.c: (ephy_module_load):

	If the library path isn't absolute, look in the main extension
	dir, and then the users own extension directory

2005-09-23  Crispin Flowerday  <gnome@flowerday.cx>

	* src/ephy-extensions-manager.c:
	(ephy_extensions_manager_load_ini_string):

	Don't crash if the Authors key is missing, or
	there are no keys in the Loader section

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-extensions-manager.c:

	s/DOT_INIT/DOT_INI/g.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/epphy-extensions-manager.c: (free_extension_info),
	(ephy_extensions_manager_load_xml_string), (path_to_identifier),
	(ephy_extensions_manager_load_file), (load_file_from_monitor),
	(dir_changed_cb), (ephy_extensions_manager_load_dir):

	Don't read unused variables, and use a #define for the
	keyfile extension.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-python-loader.c: (impl_get_object):

	Accept "Module" argument.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-shlib-loader.c: (impl_get_object)
	(ephy_shlib_loader_class_init):

	Support "Library" argument.

2005-09-23  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:
	R data/epiphany-extension.xsd:
	* src/ephy-extensions-manager.c:
	(ephy_extensions_manager_load_xml_string),
	(ephy_extensions_manager_startup),
	(ephy_extensions_manager_finalize):

	Since the .xml format is deprecated, remove the (already #if 0'd)
	schema validation code.

2005-09-23  Crispin Flowerday  <gnome@flowerday.cx>

	* data/epiphany.m4: Really add the file

2005-09-23  Crispin Flowerday  <gnome@flowerday.cx>

	* data/Makefile.am:
	* data/epiphany.m4:
	* src/ephy-extensions-manager.c: (free_extension_info),
	(ephy_extensions_manager_load_xml_string),
	(ephy_extensions_manager_load_ini_string), (path_to_identifier),
	(ephy_extensions_manager_load_file), (load_extension),
	(load_file_from_monitor), (dir_changed_cb),
	(ephy_extensions_manager_load_dir):

	Add support for extension description files in the keyfile
	format, using the extension .ephy-extension. Also included
	is a m4 macro to help do the translation of these files.
	
2005-09-21  Jean-François Rameau  <jframeau@cvs.gnome.org>

	* embed/mozilla/mozilla-embed-single.cpp: (have_gnome_url_handler):

	Remove unused function.

2005-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-gui.c:

	Fix compile warnings.

2005-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:
	* embed/print-dialog.c: (ephy_print_do_print_idle_cb):

	Don't use "cat >" as output command, it fails inpredicably.
	Instead, use the tempfile setting, and set "PostScript/default"
	as printer name. fflush before printing the temp file
	using gnome-print. If not using gecko 1.9, translate the paper
	name to the one mozilla expects (mozilla bug 
	https://bugzilla.mozilla.org/show_bug.cgi?id=307404).

2005-09-21  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-gui.c: (ephy_gui_check_location_writable):
	* lib/ephy-gui.h:

	New function to check the filename/directory for writability,
	derived from the now removed ephy_gui_confirm_overwrite_file.
	
	* src/bookmarks/ephy-bookmarks-editor.c:
	* embed/mozilla/FilePicker.cpp:
	* embed/mozilla/ContentHandler.cpp:
	* embed/mozilla/EphyHeaderSniffer.cpp:

	Use the filechooser's stock confirm-overwrite checking, but
	we still need our own writability check.

2005-09-19  Christian Persch  <chpe@cvs.gnome.org>

	* embed/ephy-embed.h:
	* embed/mozilla/mozilla-embed.cpp:

	Add EPHY_EMBED_STATE_RESTORING and conversion from
	GTK_MOZ_EMBED_FLAG_RESTORING.

2005-09-19  Christian Persch  <chpe@cvs.gnome.org>

	* data/mime-types-permissions.xml:

	Add another mime alias.

2005-09-19  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-window.c: (_ephy_window_set_context_event),
	(_ephy_window_unset_context_event), (embed_popup_deactivate_cb),
	(show_embed_popup), (ephy_window_dispose):
	* src/ephy-window.h:

	Make the methods to unset/release the context event semi-public.

2005-09-16  Raphael Slinckx  <rslinckx@cvs.gnome.org>

	* src/bookmarks/ephy-bookmark-action.c:
	(bookmark_activate_with_flags), (open_in_tab_activate_cb),
	(open_in_window_activate_cb), (activate_cb):
	* src/bookmarks/ephy-bookmarks.c: (impl_resolve_address):
	Repair the previous b0rkage, see previous log

2005-09-15  Raphael Slinckx  <rslinckx@cvs.gnome.org>

	* src/bookmarks/ephy-bookmarks.c: (impl_resolve_address):
	If the search term is empty for a smart bookmark use the normal
	URL instead of the smart url with the %s replaced by ""

2005-09-15  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSDialog.cpp:

	Don't focus the checkbox initially. Fixes bug #163371.

2005-09-15  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_construct):

	Make Close the default button.

2005-09-14  Christian Persch  <chpe@cvs.gnome.org>

	* src/window-commands.c: (window_cmd_help_about):

	Set "website-label" property.

2005-09-09  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphySingle.cpp:

	Manually emit the "profile-change-net-teardown" notification;
	works around bug https://bugzilla.mozilla.org/show_bug.cgi?id=292699.

2005-09-07  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:

	Remove unused code.

2005-09-05  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GlobalHistory.cpp:
	* embed/ephy-history.h:

	Implement [SG]etGeckoURIFlags for gecko 1.9.

2005-09-05  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/EphyUtils.cpp:

	Mozilla printing code is braindead. Bug #163255.

2005-09-03  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Depend on pygtk 2.8. Fixes bug #314557.

	* src/languages.h:

	Remove duplicate entries.

2005-09-01  Christian Persch  <chpe@cvs.gnome.org>

	* src/ephy-toolbar-editor.c: (ephy_toolbar_editor_constructor):
	* src/pdm-dialog.c: (show_cookies_properties):

	Fix HIG spacings.

2005-09-01  Christian Persch  <chpe@cvs.gnome.org>

	* data/glade/epiphany.glade:

	Remove find dialogue, and tweak spacings to be HIG compliant.

2005-09-01  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* embed/mozilla/EphyBrowser.cpp:

	Only listen for trusted events.

2005-08-31  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Update gtk requirement.

2005-08-31  Christian Persch  <chpe@cvs.gnome.org>

	* embed/mozilla/GtkNSSSecurityWarningDialogs.cpp:

	Better message on the enter-secure warning.

2005-08-29  Christian Persch  <chpe@cvs.gnome.org>

	* lib/ephy-debug.c:

	Only include execinfo.h if it exists.

2005-08-29  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* lib/ephy-debug.c: (trap_handler):

	Check for execinfo.h. Fixes bug #314776.

2005-08-28  Christian Persch  <chpe@cvs.gnome.org>

	* ChangeLog-20050828:
	* Makefile.am:
	* autogen.sh:
	* configure.ac:
	* data/Makefile.am:
	* data/epiphany-1.10.pc.in:
	* data/epiphany-1.8.pc.in:
	* doc/reference/Makefile.am:
	* embed/Makefile.am:
	* embed/mozilla/Makefile.am:
	* lib/Makefile.am:
	* lib/egg/Makefile.am:
	* lib/ephy-dbus.c: (session_filter_func), (system_filter_func),
	(ephy_dbus_connect_to_session_bus), (ephy_dbus_disconnect_bus):
	* lib/widgets/Makefile.am:
	* src/Makefile.am:
	* src/bookmarks/Makefile.am:

	Version 1.9.
